objects:
  - user: Individual # user is the object and the type is Individual
  - cohabitants: DAList.using(object_type=Individual) # this says the list contains objects of which the type of Individual
---
mandatory: false # this says this block is the required slide to show, and docassemble will want to know what prior blocks it needs to display to show this mandatory field
question: | # use the pipe symbol if you want to do multiline
  Hello ${ user }.
subquestion:  |

  Do you eat sweet snacks? ${ user.sweet_snacks }. 
  
  What is your favourite type of snack? ${ user.favourite_type_snack }. 
  
  Do you eat Oreos on a daily basis? ${ user.daily_oreos }
  
  Do you eat Kitkat on a daily basis? ${ user.daily_kitkat }
  
  You live with: ${ cohabitants }. 
  
  Your signature: ${ user.signature }
---
mandatory: true
question: Here is your document.
subquestion: Please print it or email it to yourself. 
attachment: 
  - name: Legal Aid Document
    filename: legal_aid_inquiry_doc
    content:  |
    
      Hello ${ user }
    
      % if len(cohabitants) > 0: 
    
      You live with the following people: ${ cohabitants }. 
    
      % else: 
    
      You do not live with anyone. 
    
      % endif
    
      % if user.legalaid_qualify:
    
      You indicated that you qualify for legal aid. 
    
      % else:
    
      You indicated that you do not qualify for legal aid. 
    
      % endif
    
      Date of inquiry ${ format_date(date_of_inquiry, format='EEEE, MMMM d, yyyy') }, which can also be written as ${ format_date(date_of_inquiry, format="yyyy-MM-dd") }. 
---
generic object: Individual
question: What is your name?
fields:
  - First Name: x.name.first
  - Last Name: x.name.last
---
question:  |
  What is the date of inquiry (today's date)? 
fields: 
  - Date of inquiry: date_of_inquiry
    datatype: date 
---
question: Do you qualify for legal aid?
yesno: user.legalaid_qualify
---
question: |
  Do you eat sweet snacks?
yesno: user.sweet_snacks
---
question: |
  What is your favourite type of snack?
field: user.favourite_type_snack
choices:
  - Sweets
  - Savoury 
  - Healthy 
---
question: |
  Select the food choices you would like to eat on a daily basis.
fields:
  - Oreos: user.daily_oreos
    datatype: yesnowide
  - Kitkat: user.daily_kitkat
    datatype: yesnowide
---
question: Do you live with anyone?
yesno: cohabitants.there_are_any
---
question: Do you live with anyone else?
yesno: cohabitants.there_is_another
---
question: Please sign
signature: user.signature 